{% extends "base.html" %}

{% block content %}
<h2>Add DNS Domain Objects</h2>
<form method="post" class="mb-4">
    <div class="mb-3">
        <label for="ticket_ref" class="form-label">Ticket Ref</label>
        <input type="text" class="form-control" id="ticket_ref" name="ticket_ref" required>
    </div>

    <div class="mb-3">
        <label for="group_name" class="form-label">Group Name</label>
        <input type="text" class="form-control" id="group_name" name="group_name" required>
    </div>

    <div class="mb-3">
        <label for="input_data" class="form-label">
            Input Data (DNS Domain per line - must start with '.')
        </label>
        <textarea class="form-control" id="input_data" name="input_data" required
            placeholder=".example.com or .sub.domain.net"></textarea>
        <div class="form-text">
            Only enter lines starting with '.' (e.g., .example.com).
        </div>
    </div>

    <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="is_sub_domain" name="is_sub_domain">
        <label class="form-check-label" for="is_sub_domain">Is Sub-domain (It will untick FQDN checkbox. Default is FQDN)</label>
    </div>

    <button type="submit" class="btn btn-primary">Generate</button>
</form>

{% if output %}
    <h3>Generated API Commands</h3>
    <button class="btn btn-success mb-2" onclick="copyToClipboard()">Copy to Clipboard</button>
    <pre id="output">{{ output }}</pre>
{% endif %}
{% endblock %}

{% block scripts %}
<script>
function copyToClipboard() {
    var copyText = document.getElementById("output");
    navigator.clipboard.writeText(copyText.textContent);
    alert("Copied to clipboard!");
}
</script>
{% endblock %}
